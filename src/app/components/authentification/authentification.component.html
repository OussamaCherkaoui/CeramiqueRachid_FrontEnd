<div class="auth-container">
  <div class="auth-background">
    <div class="logo">
      <img height="250" width="250" src="assets/pictures/logo2.png">
    </div>
    <div class="auth-content">

      <mat-card class="auth-card">
        <mat-card-header class="auth-header">
          <div>
            <mat-card-title class="auth-title">Authentification</mat-card-title>
          </div>
          <div class="auth-icon">
            <mat-icon>person</mat-icon>
            <mat-icon class="settings-icon">settings</mat-icon>
          </div>
        </mat-card-header>

        <mat-card-content>
          <form [formGroup]="authForm" (ngSubmit)="onSubmit()" class="auth-form">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Username</mat-label>
              <input
                matInput
                formControlName="username"
                placeholder="Nom d'utilisateur"
                autocomplete="username">
              <mat-icon matSuffix>person</mat-icon>
              <mat-error *ngIf="authForm.get('username')?.errors?.['required']">
                Le nom d'utilisateur est requis
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Password</mat-label>
              <input
                matInput
                [type]="hidePassword ? 'password' : 'text'"
                formControlName="password"
                placeholder="Mot de passe"
                autocomplete="current-password">
              <button
                mat-icon-button
                matSuffix
                type="button"
                (click)="togglePasswordVisibility()"
                [attr.aria-label]="'Masquer le mot de passe'"
                [attr.aria-pressed]="hidePassword">
                <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
              <mat-error *ngIf="authForm.get('password')?.invalid && authForm.get('password')?.touched">
                <span *ngIf="authForm.get('password')?.errors?.['required']">
                  Le mot de passe est requis
                </span>
                <span *ngIf="authForm.get('password')?.errors?.['minlength']">
                  Le mot de passe doit contenir au moins 6 caractères
                </span>
              </mat-error>
            </mat-form-field>

            <button
              mat-raised-button
              color="primary"
              type="submit"
              class="connect-button full-width"
              [disabled]="!authForm.valid">
              Se connecter
            </button>
          </form>
        </mat-card-content>
      </mat-card>

    </div>
  </div>
  <div class="auth-desc">
    <p class="auth-description">
      S'authentifier pour accéder à l'espace d'administration
    </p>
  </div>
</div>
